{
    "dataset": "bts_short",
    "run": "3d582e03-afbb-4e2a-bb3f-e617d967c9d1",
    "source": "",
    "snippets_used": 1,
    "attempts": 4,
    "final_scraper_code": "# imports\nimport requests\nimport bs4 \nimport json\n\ndef scraper(url: str) -> None:\n    # request the webpage using the url\n    response = requests.get(url)\n    \n    # check for successful request\n    if response.status_code == 200:\n        # use BeautifulSoup to parse the webpage\n        soup = bs4.BeautifulSoup(response.text, 'html.parser')\n        \n        # create a list to store all book data\n        books = []\n        \n        # loop through each book in the webpage\n        for book in soup.find_all('article', class_='product_pod'): \n            # create a dictionary to store the current book's data\n            book_info = {}\n            \n            # extract the book title and add to dictionary\n            title = book.find('h3').find('a').get('title')\n            book_info['title'] = title\n            \n            # extract the rating and add to dictionary\n            rating = book.find('p', class_='star-rating').get('class')\n            # extract only the number from the class name\n            try:\n                rating_num = int(rating[1])\n            except:\n                rating_num = None\n            book_info['rating'] = rating_num\n            \n            # extract the price and add to dictionary\n            price = book.find('p', class_='price_color').text\n            book_info['price'] = price\n            \n            # extract the stock availability and add to dictionary\n            in_stock = book.find('p', class_='availability').text.strip()\n            book_info['in_stock'] = in_stock\n            \n            # add the book dictionary to the list of books\n            books.append(book_info)\n        \n        # convert the list of books into JSON format\n        books_json = json.dumps(books)\n        \n        # print out the data in JSON format\n        print(books_json)\n    \n    else:\n        print('Error: Could not access webpage.')\n    \nif __name__ == '__main__':\n    url = 'https://books.toscrape.com/catalogue/category/books/travel_2/index.html' \n    scraper(url)",
    "test_count": 15,
    "test_succ_count": 5
}